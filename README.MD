# Mo’Afks

[![Download](https://img.shields.io/github/v/release/mairwunnx/moafks?color=blue&label=Скачать%20JAR&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2ElEQVR4nM3TMUoDQRQG4G9tLQQbC0m6VBY2QkBIZeEJLLyDR/AElh7BA3gCC0FIaSGCNmm0sBEsUvkXdmBZ3N0JpPKHx8y8N/OfmTdvmeMfcYgL3OEFD3jEHc5xkOcVOcUzPnCPU2zjO8ZfuMV+X4IjvGIVJ5jgM+ZfMcZmX4JzTHGGzR7/BpPQnHQlGOAhxG2sxXwd2xF7j9kgr1vEbYhHFf86jqPmtS1BFXdYYKstQRW3wSKOZ02+6QvMsNyUYBm3MMdOk28Rj/kV81/4wQ9+8bsowR9ghjX/yT+1TAAAAABJRU5ErkJggg==)](https://github.com/mairwunnx/moafks/releases/latest)


🛡️ Пауза в онлайне — теперь возможна. Плагин для PaperMC, который даёт игроку безопасный режим AFK: иммунитет к урону, отсутствие коллизий, игнор мобами, авто-детект неактивности и
аккуратные визуальные эффекты. Всё — одной командой /afk.

> «Поставь на паузу игру!» — говорили они. «Это же онлайн…» — отвечали мы.
> Теперь паузу можно: вы отходите, а плагин бережно защищает вашего персонажа.

## Фичи

### Безопасность во время AFK

- Иммунитет к урону от: ближнего боя, снарядов, огня/лавы, взрывов, падения/void, утопления, удушья и замерзания.
- Без коллизии — игрока невозможно вытолкать (noclip-режим для столкновений).
- Мобы не таргетят AFK-игрока.
- Отмена нока-бэка/скорости от взрывов и ударов (Paper-обработчики).

### Управление AFK

- `/afk [reason]` — вход/выход вручную (с причиной).
- Авто-AFK по неактивности (таймер настраивается).
- Триггеры выхода: движение, чат, любая команда (кроме своих), «бой» (для атакующего).
- Безопасный выход: если место небезопасно — автотп к ближайшему безопасному блоку c уведомлением.

### Визуал и сообщения

- Лёгкие частицы вокруг игрока (вкл/выкл).
- Метка AFK у ника (щадящий формат).
- Action Bar-предупреждения перед авто-выходом/киком.
- Сообщения в MiniMessage (Adventure), настраиваются.

### Анти-абьюз

- Запрет ручного входа, если игрок в бою или в опасном состоянии.
- AFK не снимается при получении урона жертвой (не даём «выбить» из паузы). Снимается у атакующего.

## Команды

- `/afk [reason]`  Переключить AFK (войти/выйти). Не снимается в бою.
- `/moafks reload`  Перезагрузить конфигурацию (сообщения/эффекты/тайминги).

## Разрешения

- `moafks.afk` Разрешает использовать /afk.
- `moafks.reload`  Перезагрузка плагина.

Авто-детект AFK работает для всех; отдельного «bypass» пока нет, да и не будет.

## Конфигурация

Файл: `plugins/MoAfks/config.yml`
Формат сообщений — `MiniMessage`.

Мини-пример (фрагмент, дефолты уже проставлены в готовом `config.yml`)

## Заплейтестить

У меня есть возможность дасть заплейтестить плагин, приходите на сервер `minecraft.ximanager.ru`, чтобы ознакомиться с плагинами (Mo'Bosses, Mo'Joins, Mo'Afks и McBuddy), на нем вы
можете его испытать!

Будем рады каждому игроку! Сервер с китайской культурой и обычное выживание.

## Совместимость

- Server: `Paper 1.21+`
- Java: `21+`
- Плагины: работает «поверх» большинства; публичного API у Mo’Afks пока нет.
- Paper-особенности: использую `ProjectileCollideEvent`, `EntityAirChangeEvent`, др. Paper эвенты при наличии.

## Установка

1. Скачайте `JAR` из релизов или соберите (см. ниже).
2. Поместите файл в `plugins/` вашего Paper-сервера.
3. Запустите сервер (или `/restart`).
4. Отредактируйте `plugins/MoAfks/config.yml` при необходимости.
5. Примените изменения командой `/moafks reload`.

## Сборка

Требования

- Java 21
- Gradle 8+

```shell
git clone https://github.com/mairwunnx/moafks
cd moafks
./gradlew build
```

Готовый JAR: `build/libs/moafks-1.1.1-all.jar`

## Стек

- `Kotlin + Gradle Kotlin DSL`
- `Paper API` (1.21+)
- `Adventure (MiniMessage)` — компоненты и форматирование
- `kotlinx-serialization` — типобезопасная конфигурация
- `Registry API` — современные сериализаторы Sound/Particle

## Ограничения и намеренные решения

- Мир продолжает жить. Мы не отменяем разрушение блоков взрывами ради честности меты.
- Нет PlaceholderAPI/BossBar — сознательная простота; сообщения и Action Bar достаточно гибкие.
- Без публичного API — пока. Если будет спрос и желание, может добавлю.

## Участие AI

AI использовался для генерации части документации, и для некоторых технических аспектов проетка (сериализаторы, LocationManager), а так же для названий коммитов их полностью
генерировала AI базируясь на изменениях.

## Ссылки на связанные проекты

[McBuddy Server](https://github.com/mcbuddy-ai/mcbuddy-server) — 🛠️⚡ Бэкенд для AI-ассистента MCBuddy с интеграцией OpenRouter и обработкой запросов

[McBuddy Telegram](https://github.com/mcbuddy-ai/mcbuddy-bot) — 🤖📱 Telegram-бот для общения с MCBuddy за пределами игры

[McBuddy Spigot](https://github.com/mcbuddy-ai/mcbuddy-spigot) — 💬 Spigot-плагин для интеграции MCBuddy — добавляет команду `/ask` для вопросов к AI-ассистенту прямо в чате
Minecraft сервера! 🎮

## Из серии "от того же автора"

[Mo’Bosses](https://github.com/mairwunnx/mobosses) — 🏆 **Mo'Bosses** — это лучший RPG плагин, который превращает обычных мобов в эпических боссов с **продвинутой системой
прогрессии игрока**. В отличие от других плагинов, здесь каждый бой имеет значение, а каждый уровень открывает новые возможности! ⚔

[Mo’Joins](https://github.com/mairwunnx/mojoins) — 🎉 Кастомные входы/выходы: сообщения, звуки, частицы, фейерверки и защита после входа. Все для PaperMC.

[Xi Manager](https://github.com/mairwunnx/xi) — 🀄️ Telegram-бот с ИИ, стилизованный под личного помощника Xi. Личный помощник великого лидера, готовый отвечать на вопросы простого
народа.

[Dickobrazz](https://github.com/mairwunnx/dickobrazz) — 🌶️ Дикобраз бот, он же дикобот, способен в точности до сантиметра выдать размер вашего агрегата, краника или валыны, не
обижайтесь, если не удалось понтануться большим прибором, это всего лишь шутка.

[Louisepizdon](https://github.com/MairwunNx/louisepizdon) — 🥀 Луипиздон, Telegram-бот с ИИ, который честнее чем твоя бабушка. Оценит тебя по достоинству, разборка ценообразования
твоих шмоток с фотографии!

---

![image](./media.jpg)

🇷🇺 **Сделано в России с любовью.** ❤️

**Mo’Afks** — это про комфортную паузу в онлайне без абьюза механик. Лёгкий, аккуратный, честный к окружающему миру.

> 🫡 Made by Pavel Erokhin (Павел Ерохин), aka mairwunnx.